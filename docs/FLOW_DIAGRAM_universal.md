# Universal Registration - Complete Flow Diagram

## ğŸ“Š Organizational Hierarchy & ID Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ORGANIZATION                                â”‚
â”‚  Type: organization                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ID: ORG-0001 (auto-generated)                          â”‚    â”‚
â”‚  â”‚ organization_id: ORG-0001 (auto-generated)             â”‚    â”‚
â”‚  â”‚ branch_id: null                                        â”‚    â”‚
â”‚  â”‚ parent: null (not required)                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚  User Input Required:                                            â”‚
â”‚  âœ“ name, email, contact, etc.                                   â”‚
â”‚  âœ— NO parent selection needed                                   â”‚
â”‚  âœ— organization_id (blocked - auto-generated)                   â”‚
â”‚  âœ— branch_id (blocked - not applicable)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Parent Selection (MANDATORY)
                        â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       BRANCH               â”‚ â”‚       BRANCH                â”‚
â”‚  Type: branch              â”‚ â”‚  Type: branch               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ID: BRN-0001         â”‚  â”‚ â”‚  â”‚ ID: BRN-0002          â”‚ â”‚
â”‚  â”‚ (auto-generated)     â”‚  â”‚ â”‚  â”‚ (auto-generated)      â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚ â”‚  â”‚                       â”‚ â”‚
â”‚  â”‚ organization_id:     â”‚  â”‚ â”‚  â”‚ organization_id:      â”‚ â”‚
â”‚  â”‚   ORG-0001           â”‚  â”‚ â”‚  â”‚   ORG-0001            â”‚ â”‚
â”‚  â”‚   (inherited)        â”‚  â”‚ â”‚  â”‚   (inherited)         â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚ â”‚  â”‚                       â”‚ â”‚
â”‚  â”‚ branch_id:           â”‚  â”‚ â”‚  â”‚ branch_id:            â”‚ â”‚
â”‚  â”‚   BRN-0001           â”‚  â”‚ â”‚  â”‚   BRN-0002            â”‚ â”‚
â”‚  â”‚   (auto-generated)   â”‚  â”‚ â”‚  â”‚   (auto-generated)    â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚ â”‚  â”‚                       â”‚ â”‚
â”‚  â”‚ parent: ORG-0001     â”‚  â”‚ â”‚  â”‚ parent: ORG-0001      â”‚ â”‚
â”‚  â”‚   (REQUIRED)         â”‚  â”‚ â”‚  â”‚   (REQUIRED)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                            â”‚ â”‚                            â”‚
â”‚  User Input Required:      â”‚ â”‚  User Input Required:      â”‚
â”‚  âœ“ parent (select org)     â”‚ â”‚  âœ“ parent (select org)     â”‚
â”‚  âœ“ name, email, etc.       â”‚ â”‚  âœ“ name, email, etc.       â”‚
â”‚  âœ— organization_id (auto)  â”‚ â”‚  âœ— organization_id (auto)  â”‚
â”‚  âœ— branch_id (auto)        â”‚ â”‚  âœ— branch_id (auto)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                            â”‚
             â”‚ Parent Selection           â”‚ Parent Selection
             â”‚ (MANDATORY)                â”‚ (MANDATORY)
             â”‚                            â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                â”‚          â”‚                 â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AGENT    â”‚  â”‚  AGENT     â”‚ â”‚  AGENT   â”‚  â”‚  EMPLOYEE   â”‚
â”‚           â”‚  â”‚            â”‚ â”‚          â”‚  â”‚             â”‚
â”‚ AGT-0001  â”‚  â”‚ AGT-0002   â”‚ â”‚ AGT-0003 â”‚  â”‚  EMP-0001   â”‚
â”‚           â”‚  â”‚            â”‚ â”‚          â”‚  â”‚             â”‚
â”‚ org_id:   â”‚  â”‚ org_id:    â”‚ â”‚ org_id:  â”‚  â”‚ org_id:     â”‚
â”‚ ORG-0001  â”‚  â”‚ ORG-0001   â”‚ â”‚ ORG-0001 â”‚  â”‚ ORG-0001    â”‚
â”‚ (inherit) â”‚  â”‚ (inherit)  â”‚ â”‚ (inherit)â”‚  â”‚ (inherit)   â”‚
â”‚           â”‚  â”‚            â”‚ â”‚          â”‚  â”‚             â”‚
â”‚ branch_id:â”‚  â”‚ branch_id: â”‚ â”‚branch_id:â”‚  â”‚ branch_id:  â”‚
â”‚ BRN-0001  â”‚  â”‚ BRN-0001   â”‚ â”‚ BRN-0002 â”‚  â”‚ BRN-0002    â”‚
â”‚ (inherit) â”‚  â”‚ (inherit)  â”‚ â”‚ (inherit)â”‚  â”‚ (inherit)   â”‚
â”‚           â”‚  â”‚            â”‚ â”‚          â”‚  â”‚             â”‚
â”‚ parent:   â”‚  â”‚ parent:    â”‚ â”‚ parent:  â”‚  â”‚ parent:     â”‚
â”‚ BRN-0001  â”‚  â”‚ BRN-0001   â”‚ â”‚ BRN-0002 â”‚  â”‚ BRN-0002    â”‚
â”‚ (REQUIRED)â”‚  â”‚ (REQUIRED) â”‚ â”‚(REQUIRED)â”‚  â”‚ (REQUIRED)  â”‚
â”‚           â”‚  â”‚            â”‚ â”‚          â”‚  â”‚             â”‚
â”‚ ğŸ“¸ Images:â”‚  â”‚            â”‚ â”‚          â”‚  â”‚             â”‚
â”‚ CNIC âœ“    â”‚  â”‚            â”‚ â”‚          â”‚  â”‚             â”‚
â”‚ Card âœ“    â”‚  â”‚            â”‚ â”‚          â”‚  â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  User Input Required:
  âœ“ parent (select branch)
  âœ“ name, email, etc.
  âœ“ cnic_front (image)
  âœ“ cnic_back (image)
  âœ“ visiting_card (image)
  âœ— organization_id (auto-inherited)
  âœ— branch_id (auto-inherited)
```

---

## ğŸ”„ User Registration Flow

### Flow 1: Register Organization
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   START     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User selects:               â”‚
â”‚ "Register Organization"     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fill Form:                  â”‚
â”‚ â€¢ Name                      â”‚
â”‚ â€¢ Email                     â”‚
â”‚ â€¢ Contact                   â”‚
â”‚ â€¢ Address                   â”‚
â”‚ (NO parent needed)          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/universal/registerâ”‚
â”‚ {                           â”‚
â”‚   type: "organization",     â”‚
â”‚   name: "...",              â”‚
â”‚   ...                       â”‚
â”‚ }                           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Response:                â”‚
â”‚ ID: ORG-0001 (auto)         â”‚
â”‚ org_id: ORG-0001 (auto)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    DONE     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 2: Register Branch
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   START     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User selects:                       â”‚
â”‚ "Register Branch"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/universal/                 â”‚
â”‚     available-parents/?type=branch  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Response: Available Organizations   â”‚
â”‚ [                                   â”‚
â”‚   {id: "ORG-0001", name: "ABC"},    â”‚
â”‚   {id: "ORG-0002", name: "XYZ"}     â”‚
â”‚ ]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Show Dropdown:                      â”‚
â”‚ "Select Parent Organization"        â”‚
â”‚ â–¼ ABC (ORG-0001) â† User selects     â”‚
â”‚   XYZ (ORG-0002)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fill Remaining Form:                â”‚
â”‚ â€¢ Branch Name                       â”‚
â”‚ â€¢ Email                             â”‚
â”‚ â€¢ Address                           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/universal/register        â”‚
â”‚ {                                   â”‚
â”‚   type: "branch",                   â”‚
â”‚   parent: "ORG-0001", âœ… Required   â”‚
â”‚   name: "...",                      â”‚
â”‚   ...                               â”‚
â”‚ }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Response:                        â”‚
â”‚ ID: BRN-0001 (auto)                 â”‚
â”‚ org_id: ORG-0001 (inherited)        â”‚
â”‚ branch_id: BRN-0001 (auto)          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    DONE     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 3: Register Agent with Images
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   START     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User selects:                       â”‚
â”‚ "Register as Agent"                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/universal/                 â”‚
â”‚     available-parents/?type=agent   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Response: Available Branches        â”‚
â”‚ [                                   â”‚
â”‚   {                                 â”‚
â”‚     id: "BRN-0001",                 â”‚
â”‚     name: "Lahore",                 â”‚
â”‚     org_id: "ORG-0001",             â”‚
â”‚     branch_id: "BRN-0001"           â”‚
â”‚   },                                â”‚
â”‚   {...}                             â”‚
â”‚ ]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Show Dropdown:                      â”‚
â”‚ "Select Your Branch"                â”‚
â”‚ â–¼ Lahore (BRN-0001) â† User selects  â”‚
â”‚   Display: Org: ORG-0001            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fill Form + Pick Images:            â”‚
â”‚ â€¢ Name                              â”‚
â”‚ â€¢ Email, Contact                    â”‚
â”‚ â€¢ CNIC Number                       â”‚
â”‚ ğŸ“¸ Pick CNIC Front (gallery)        â”‚
â”‚ ğŸ“¸ Pick CNIC Back (gallery)         â”‚
â”‚ ğŸ“¸ Pick Visiting Card (gallery)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/universal/register        â”‚
â”‚ Content-Type: multipart/form-data   â”‚
â”‚ {                                   â”‚
â”‚   type: "agent",                    â”‚
â”‚   parent: "BRN-0001", âœ… Required   â”‚
â”‚   name: "...",                      â”‚
â”‚   cnic_front: <image>, ğŸ“¸           â”‚
â”‚   cnic_back: <image>, ğŸ“¸            â”‚
â”‚   visiting_card: <image> ğŸ“¸         â”‚
â”‚ }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Response:                        â”‚
â”‚ ID: AGT-0001 (auto)                 â”‚
â”‚ org_id: ORG-0001 (inherited)        â”‚
â”‚ branch_id: BRN-0001 (inherited)     â”‚
â”‚ cnic_front: /media/...              â”‚
â”‚ cnic_back: /media/...               â”‚
â”‚ visiting_card: /media/...           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Display Success Screen:             â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚ âœ… Registration Successful!         â”‚
â”‚                                     â”‚
â”‚ Your Agent ID: AGT-0001             â”‚
â”‚ Organization: ORG-0001              â”‚
â”‚ Branch: BRN-0001                    â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    DONE     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš« Blocked Inputs (Will be Ignored)

```
âŒ These will NOT be accepted in requests:

{
  "organization_id": "...",  // IGNORED - Auto-generated/inherited
  "branch_id": "...",        // IGNORED - Auto-generated/inherited
  "id": "...",               // IGNORED - Auto-generated
  "created_at": "...",       // IGNORED - Timestamp
  "updated_at": "..."        // IGNORED - Timestamp
}

âœ… These will be automatically set by the system
```

---

## ğŸ“Š ID Inheritance Matrix

| Entity Type | Primary ID | organization_id | branch_id | parent |
|-------------|-----------|----------------|-----------|---------|
| Organization | ORG-0001 (auto) | ORG-0001 (auto) | null | null |
| Branch | BRN-0001 (auto) | ORG-0001 (inherit) | BRN-0001 (auto) | ORG-0001 (required) |
| Agent | AGT-0001 (auto) | ORG-0001 (inherit) | BRN-0001 (inherit) | BRN-0001 (required) |
| Employee | EMP-0001 (auto) | ORG-0001 (inherit) | BRN-0001 (inherit) | Any (required) |

Legend:
- (auto) = Automatically generated by system
- (inherit) = Inherited from parent
- (required) = Must be selected by user
- null = Not applicable

---

**This diagram shows the complete organizational hierarchy and ID flow through the system.**
